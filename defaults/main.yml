---

role_action: provision

env: test

instance_wait_retry_limit: 300
instance_wait_connection_timeout: 600

public_network_name: public

config_file: "{{ lookup('env', 'OS_CLIENT_CONFIG_FILE') }}"

wait_for_connection: true

os_stack_deprovision_best_effort: false

# SSL verification for OpenStack API calls (default: enabled).
# If OS_INSECURE is set (1/true/yes/on), we disable cert validation to match
# common OpenStack client behavior.
os_stack_validate_certs: >-
  {{
    not (
      (lookup('env', 'OS_INSECURE') | default('false', true) | string | trim | lower)
      in ['1', 'true', 'yes', 'y', 'on']
    )
  }}

set_network_to_private: >-
  ([Activator]::CreateInstance([Type]::GetTypeFromCLSID(
  [Guid]"{DCB00C01-570F-4A9B-8D69-199FDBA5723B}"))).GetNetworkConnections() | % {$_.GetNetwork().SetCategory(1)}

winrm_enable_script_url: https://raw.githubusercontent.com/ansible/ansible-documentation/devel/examples/scripts/ConfigureRemotingForAnsible.ps1





